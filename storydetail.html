<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Chi tiết truyện</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <!-- Bootstrap CSS v5.2.1 -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css"
      rel="stylesheet" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      rel="stylesheet" />
    <link rel="stylesheet" href="./css/storydetail.css" />
  </head>

  <body>
    <!-- Header -->
    <header class="custom-header container">
      <div
        class="d-flex align-items-center justify-content-between px-4 py-2 header-nav">
        <!-- Logo -->
        <div class="d-flex align-items-center gap-3 header-logo">
          <img
            src="https://via.placeholder.com/30x30.png?text=★"
            alt="Logo"
            class="logo" />
          <span class="fw-bold fs-5">Logoipsum</span>
        </div>

        <!-- Wrapper chứa nav + button riêng biệt -->
        <div class="d-flex align-items-center gap-0 header-links">
          <!-- Nav links -->
          <nav class="d-flex gap-4 align-items-center me-5">
            <a href="./index.html" class="nav-link text-dark">Trang Chủ</a>
            <a href="./story.html" class="nav-link text-dark">Truyện</a>
            <a href="#" class="nav-link text-vip">Khu Vực Vip</a>
            <a href="#" class="nav-link text-dark">Tủ Truyện</a>
            <i class="fas fa-search search-icon"></i>
          </nav>
          <!-- Nút menu hamburger chỉ hiển thị trên màn nhỏ -->
          <button
            class="btn btn-outline-dark d-lg-none"
            type="button"
            data-bs-toggle="offcanvas"
            data-bs-target="#mobileMenu"
            aria-controls="mobileMenu">
            <i class="fas fa-bars"></i>
          </button>

          <!-- Button riêng -->
          <button class="btn btn-login">Đăng Nhập</button>
        </div>
      </div>
    </header>

    <!-- Offcanvas Menu (menu trượt bên phải) -->
    <div
      class="offcanvas offcanvas-end"
      tabindex="-1"
      id="mobileMenu"
      aria-labelledby="mobileMenuLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="mobileMenuLabel">Menu</h5>
        <button
          type="button"
          class="btn-close text-reset"
          data-bs-dismiss="offcanvas"
          aria-label="Close"></button>
      </div>
      <div class="offcanvas-body d-flex flex-column gap-3">
        <a href="./index.html" class="nav-link text-dark">Trang Chủ</a>
        <a href="./story.html" class="nav-link text-dark">Truyện</a>
        <a href="#" class="nav-link text-vip">Khu Vực Vip</a>
        <a href="#" class="nav-link text-dark">Tủ Truyện</a>
        <button class="btn btn-login w-100 mt-2">Đăng Nhập</button>
      </div>
    </div>

    <div class="container py-5" id="storyDetail">
      <div class="row">
        <!-- Ảnh bìa -->
        <div class="col-md-4">
          <img
            id="coverImage"
            src=""
            alt="Ảnh bìa"
            class="img-fluid rounded shadow" />
        </div>

        <!-- Thông tin truyện -->
        <div class="col-md-8">
          <h2 id="storyTitle" class="fw-bold"></h2>
          <div class="d-flex align-items-center gap-3 mb-2">
            <div class="d-flex align-items-center gap-2">
              <div id="ratingStars" class="text-warning fs-5"></div>
              <div
                id="ratingAvgSmall"
                class="text-light small fw-semibold"></div>
            </div>
            <span id="viewCount" class="text-muted small"></span>
            <span id="updateTime" class="text-muted small"></span>
          </div>
          <div class="mb-2">
            <strong>Tác giả:</strong>
            <span id="author"></span>
          </div>
          <div class="mb-2">
            <strong>Trạng thái:</strong>
            <span id="status"></span>
          </div>
          <div class="mb-2">
            <strong>Nhà dịch:</strong>
            <span id="translator"></span>
          </div>

          <div class="mb-3">
            <strong>Thể loại:</strong> <span id="tag"></span>
            <span class="badge bg-success" id="tag1"></span>
            <span class="badge bg-info text-dark" id="tag2"></span>
            <span class="badge bg-warning text-dark" id="tag3"></span>
          </div>

          <p><strong>Giới thiệu truyện:</strong></p>
          <p id="description"></p>
        </div>
      </div>

      <!-- Danh sách chương -->
      <div class="mt-5">
        <h4>Chương truyện</h4>
        <div class="row row-cols-2" id="chapterList"></div>
      </div>
    </div>
    <div class="review-section mt-5">
      <div class="container">
        <h4>Đánh giá và nhận xét</h4>
        <div class="row">
          <!-- Tổng quan đánh giá -->
          <div class="col-md-4">
            <div class="bg-dark text-white p-4 rounded shadow-sm">
              <h5 class="mb-3">Tổng điểm</h5>
              <div class="d-flex align-items-center mb-2">
                <div class="display-4 fw-bold me-3" id="ratingValue">0.0</div>
                <div id="ratingStarsSummary" class="text-warning fs-4"></div>
              </div>
              <div class="text-light" id="reviewCount">0 đánh giá</div>
            </div>
          </div>

          <!-- Form đánh giá -->
          <div class="col-md-8">
            <form id="reviewForm" class="bg-dark p-3 rounded shadow-sm">
              <div class="mb-3">
                <label for="name" class="form-label">Tên của bạn</label>
                <input type="text" class="form-control" id="name" required />
              </div>
              <div class="mb-3">
                <label for="email" class="form-label">Email của bạn</label>
                <input type="email" class="form-control" id="email" required />
              </div>
              <div class="mb-3">
                <label class="form-label">Đánh giá của bạn</label>
                <div class="star-rating" id="interactiveRating">
                  <span data-value="1">&#9733;</span>
                  <span data-value="2">&#9733;</span>
                  <span data-value="3">&#9733;</span>
                  <span data-value="4">&#9733;</span>
                  <span data-value="5">&#9733;</span>
                </div>
                <input type="hidden" id="selectedRating" value="" required />
              </div>

              <div class="mb-3">
                <label for="comment" class="form-label">Nhận xét</label>
                <textarea
                  class="form-control"
                  id="comment"
                  rows="4"
                  required></textarea>
              </div>
              <button type="submit" class="btn btn-primary">
                Gửi đánh giá
              </button>
            </form>
          </div>
        </div>

        <!-- Danh sách nhận xét -->
        <div class="mt-4" id="reviewList">
          <h5>Danh sách nhận xét</h5>
          <!-- JS sẽ thêm nội dung tại đây -->
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <div class="row align-items-start">
          <!-- Logo và bản quyền -->
          <div class="col-12 col-lg-4 text-md-start footer-logo">
            <img
              src="./asset/img/logo.png"
              alt="Logo"
              class="mb-2"
              style="max-width: 150px" />
            <p class="mb-0 small">
              © 2025 Tinh Nguyệt Minh Viên.<br />
              All rights reserved.
            </p>
          </div>

          <!-- Điều hướng -->
          <div class="col-12 col-lg-4 footer-links">
            <ul class="list-unstyled mb-0">
              <li>
                <a href="#" class="text-decoration-none d-block py-1"
                  >Về chúng tôi</a
                >
              </li>
              <li>
                <a href="#" class="text-decoration-none d-block py-1"
                  >Chính sách</a
                >
              </li>
              <li>
                <a href="#" class="text-decoration-none d-block py-1"
                  >Quy định chung</a
                >
              </li>
            </ul>
          </div>

          <!-- Facebook plugin -->
          <div class="col-12 col-lg-4 footer-img">
            <div class="ratio ratio-16x9">
              <iframe
                src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fpcsteps&tabs&width=340&height=130&small_header=false&adapt_container_width=true&hide_cover=false&show_facepile=true&appId"
                style="border: none; overflow: hidden"
                allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"
                allowfullscreen>
              </iframe>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <!-- Bootstrap JavaScript Libraries -->
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"></script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"></script>

    <script src="./asset/js/storydetail.js"></script>
  </body>
</html>
