<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Trang chủ</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no" />

    <!-- Bootstrap CSS v5.2.1 -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous" />

    <!-- Swiper CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />

    <!-- Font -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      rel="stylesheet" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="./css/style.css" />
  </head>

  <body>
    <!-- Aside -->
    <aside class="sidebar-right">
      <div class="sidebar" data-index="1"></div>
      <div class="sidebar" data-index="2"></div>
    </aside>

    <!-- Header -->
    <header class="custom-header container">
      <div
        class="d-flex align-items-center justify-content-between px-4 py-2 header-nav">
        <!-- Logo -->
        <div class="d-flex align-items-center gap-3 header-logo">
          <img
            src="https://via.placeholder.com/30x30.png?text=★"
            alt="Logo"
            class="logo" />
          <span class="fw-bold fs-5">Logoipsum</span>
        </div>

        <!-- Wrapper chứa nav + button riêng biệt -->
        <div class="d-flex align-items-center gap-0 header-links">
          <!-- Nav links -->
          <nav class="d-flex gap-4 align-items-center me-5">
            <a href="./index.html" class="nav-link text-dark">Trang Chủ</a>
            <a href="./story.html" class="nav-link text-dark">Truyện</a>
            <a href="#" class="nav-link text-vip">Khu Vực Vip</a>
            <a href="#" class="nav-link text-dark">Tủ Truyện</a>
            <i class="fas fa-search search-icon"></i>
          </nav>
          <!-- Button riêng -->
          <button class="btn btn-login">Đăng Nhập</button>
        </div>
      </div>
    </header>

    <!-- Hero banner -->
    <div class="section hero-section">
      <div class="container">
        <div class="row">
          <!-- Bên trái: Slider ảnh -->
          <div class="col-md-8">
            <div id="slider">
              <div class="dp-wrap">
                <div id="dp-slider">
                  <!-- Các slide ảnh sẽ được thêm ở đây bằng JS -->
                </div>

                <!-- Nút next -->
                <span id="dp-next">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 51.401 51.401">
                    <path
                      class="cls-1"
                      d="M32.246,0V33.178L0,31.953"
                      transform="translate(0.094 25.276) rotate(-45)" />
                  </svg>
                </span>

                <!-- Nút prev -->
                <span id="dp-prev">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 51.401 51.401">
                    <path
                      class="cls-1"
                      d="M32.246,0V33.178L0,31.953"
                      transform="translate(0.094 25.276) rotate(-45)" />
                  </svg>
                </span>

                <!-- Dots (thêm bằng JS) -->
                <ul id="dp-dots">
                  <!-- <li class="active" data-class="1"></li> -->
                </ul>
              </div>
            </div>
          </div>

          <!-- Bên phải: Mô tả truyện -->
          <div class="col-md-4">
            <div class="text-slider">
              <!-- Phần này cũng sẽ được cập nhật bằng JS -->
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Danh sách truyện mới cập nhật và bảng xếp hạng -->
    <div class="section section-list-top">
      <div class="container">
        <div class="row gx-0 list-top" style="--bs-gutter-x: 50px">
          <div class="col-md-6 list-top-left">
            <div class="card custom-card truyen-moi">
              <h2 class="card-title text-uppercase text-center mb-16">
                Truyện Mới Cập Nhật
              </h2>
              <div class="card-body d-flex flex-column">
                <ul
                  class="list-group list-group-flush flex-fill overflow-auto scroll-area"
                  id="truyenMoi">
                  <!-- JS sẽ inject dữ liệu vào đây -->
                </ul>
              </div>
            </div>
          </div>
          <!-- Bảng Xếp Hạng -->
          <div class="col-md-6 list-top-right">
            <div class="card custom-card bang-xep-hang">
              <h2 class="card-title text-uppercase text-center mb-16">
                Bảng Xếp Hạng
              </h2>
              <div class="card-body d-flex flex-column">
                <ul
                  class="list-group list-group-flush flex-fill overflow-auto scroll-area"
                  id="bangXepHang">
                  <!-- JS sẽ inject dữ liệu vào đây -->
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Đề xuất truyện hay -->
    <div class="section section-good-story">
      <div class="container">
        <div
          class="card-header row gx-0 justify-content-between align-items-center mb-3">
          <h2 class="card-title text-uppercase m-0" style="width: auto">
            Đề xuất truyện hay
          </h2>
          <a
            class="views-more text-decoration-none"
            href="#"
            style="width: auto">
            Xem thêm
          </a>
        </div>

        <div class="list-story position-relative">
          <div class="swiper-container">
            <div class="swiper-wrapper" id="listStoryWrapper">
              <!-- JS sẽ inject các .swiper-slide tại đây -->
            </div>
            <!-- navigation buttons -->
            <div class="swiper-button-prev"></div>
            <div class="swiper-button-next"></div>
            <!-- optional pagination -->
            <div class="swiper-pagination-control">
              <div class="swiper-pagination"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Truyện đã hoàn thành -->
    <div class="section section-completed-story">
      <div class="container">
        <div
          class="card-header row gx-0 justify-content-between align-items-center mb-3">
          <h2 class="card-title text-uppercase m-0" style="width: auto">
            Truyện đã hoàn thành
          </h2>
          <a
            class="views-more text-decoration-none"
            href="./story.html"
            style="width: auto">
            Xem thêm
          </a>
        </div>

        <div
          class="row row-cols-md-3 row-cols-lg-4 row-cols-xl-6 g-3"
          id="completedStoryWrapper">
          <!-- JS sẽ inject <div class="col">…</div> tại đây -->
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
      <div class="container">
        <div class="row align-items-start">
          <!-- Logo và bản quyền -->
          <div class="col-12 col-lg-4 text-md-start footer-logo">
            <img
              src="./asset/img/logo.png"
              alt="Logo"
              class="mb-2"
              style="max-width: 150px" />
            <p class="mb-0 small">
              © 2025 Tinh Nguyệt Minh Viên.<br />
              All rights reserved.
            </p>
          </div>

          <!-- Điều hướng -->
          <div class="col-12 col-lg-4 footer-links">
            <ul class="list-unstyled mb-0">
              <li>
                <a href="#" class="text-decoration-none d-block py-1"
                  >Về chúng tôi</a
                >
              </li>
              <li>
                <a href="#" class="text-decoration-none d-block py-1"
                  >Chính sách</a
                >
              </li>
              <li>
                <a href="#" class="text-decoration-none d-block py-1"
                  >Quy định chung</a
                >
              </li>
            </ul>
          </div>

          <!-- Facebook plugin -->
          <div class="col-12 col-lg-4 footer-img">
            <div class="ratio ratio-16x9">
              <iframe
                src="https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fpcsteps&tabs&width=340&height=130&small_header=false&adapt_container_width=true&hide_cover=false&show_facepile=true&appId"
                style="border: none; overflow: hidden"
                allow="autoplay; clipboard-write; encrypted-media; picture-in-picture; web-share"
                allowfullscreen>
              </iframe>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <!-- Bootstrap JavaScript Libraries -->
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"></script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>

    <!-- JS cho Slider -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <script type="text/javascript">
      jQuery(document).ready(function () {
        let autoplayInterval;
        const AUTOPLAY_DELAY = 3000; // 3 seconds between slides

        function startAutoplay() {
          autoplayInterval = setInterval(function () {
            var total = $(".dp_item").length;
            $("#dp-slider .dp_item:first-child")
              .hide()
              .appendTo("#dp-slider")
              .fadeIn();
            $.each($(".dp_item"), function (index, dp_item) {
              $(dp_item).attr("data-position", index + 1);
            });
            detect_active();
          }, AUTOPLAY_DELAY);
        }

        function stopAutoplay() {
          clearInterval(autoplayInterval);
        }

        function detect_active() {
          // get active
          var get_active = $("#dp-slider .dp_item:first-child").data("class");
          $("#dp-dots li").removeClass("active");
          $("#dp-dots li[data-class=" + get_active + "]").addClass("active");
        }

        // Start autoplay when page loads
        startAutoplay();

        // // Handle hover events
        $("#slider").hover(
          function () {
            stopAutoplay();
          },
          function () {
            startAutoplay();
          }
        );

        $("#dp-next").click(function () {
          var total = $(".dp_item").length;
          $("#dp-slider .dp_item:first-child")
            .hide()
            .appendTo("#dp-slider")
            .fadeIn();
          $.each($(".dp_item"), function (index, dp_item) {
            $(dp_item).attr("data-position", index + 1);
          });
          detect_active();
        });

        $("#dp-prev").click(function () {
          var total = $(".dp_item").length;
          $("#dp-slider .dp_item:last-child")
            .hide()
            .prependTo("#dp-slider")
            .fadeIn();
          $.each($(".dp_item"), function (index, dp_item) {
            $(dp_item).attr("data-position", index + 1);
          });

          detect_active();
        });

        $("#dp-dots li").click(function () {
          $("#dp-dots li").removeClass("active");
          $(this).addClass("active");
          var get_slide = $(this).attr("data-class");
          console.log(get_slide);
          $("#dp-slider .dp_item[data-class=" + get_slide + "]")
            .hide()
            .prependTo("#dp-slider")
            .fadeIn();
          $.each($(".dp_item"), function (index, dp_item) {
            $(dp_item).attr("data-position", index + 1);
          });
        });

        $("body").on(
          "click",
          "#dp-slider .dp_item:not(:first-child)",
          function () {
            var get_slide = $(this).attr("data-class");
            console.log(get_slide);
            $("#dp-slider .dp_item[data-class=" + get_slide + "]")
              .hide()
              .prependTo("#dp-slider")
              .fadeIn();
            $.each($(".dp_item"), function (index, dp_item) {
              $(dp_item).attr("data-position", index + 1);
            });

            detect_active();
          }
        );
      });
    </script>

    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(["_setAccount", "UA-36251023-1"]);
      _gaq.push(["_setDomainName", "jqueryscript.net"]);
      _gaq.push(["_trackPageview"]);

      (function () {
        var ga = document.createElement("script");
        ga.type = "text/javascript";
        ga.async = true;
        ga.src =
          ("https:" == document.location.protocol
            ? "https://ssl"
            : "http://www") + ".google-analytics.com/ga.js";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(ga, s);
      })();
    </script>

    <script src="./asset/js/index.js"></script>
  </body>
</html>
