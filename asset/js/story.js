// Hàm dữ liệu truyện
const truyenData = [
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 102320,
        totalChapters: 16,
        currentChapters: 1,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Tín Hiệu Tâm Động",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 11231200,
        totalChapters: 6,
        currentChapters: 5,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: " tiệm cà phê của miểu miểu",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 10320,
        totalChapters: 12,
        currentChapters: 10,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Dẫn chồng trước và anh ta lúc 5 tuổi tham gia kidshow",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 111100,
        totalChapters: 100,
        currentChapters: 52,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 155500,
        totalChapters: 77,
        currentChapters: 14,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 102320,
        totalChapters: 16,
        currentChapters: 1,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Tín Hiệu Tâm Động",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 11231200,
        totalChapters: 6,
        currentChapters: 5,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: " tiệm cà phê của miểu miểu",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 10320,
        totalChapters: 12,
        currentChapters: 10,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Dẫn chồng trước và anh ta lúc 5 tuổi tham gia kidshow",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 111100,
        totalChapters: 100,
        currentChapters: 52,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 155500,
        totalChapters: 77,
        currentChapters: 14,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 102320,
        totalChapters: 16,
        currentChapters: 1,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Tín Hiệu Tâm Động",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 11231200,
        totalChapters: 6,
        currentChapters: 5,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: " tiệm cà phê của miểu miểu",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 10320,
        totalChapters: 12,
        currentChapters: 10,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Dẫn chồng trước và anh ta lúc 5 tuổi tham gia kidshow",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 111100,
        totalChapters: 100,
        currentChapters: 52,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 155500,
        totalChapters: 77,
        currentChapters: 14,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 102320,
        totalChapters: 16,
        currentChapters: 1,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Tín Hiệu Tâm Động",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 11231200,
        totalChapters: 6,
        currentChapters: 5,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: " tiệm cà phê của miểu miểu",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 10320,
        totalChapters: 12,
        currentChapters: 10,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Dẫn chồng trước và anh ta lúc 5 tuổi tham gia kidshow",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 111100,
        totalChapters: 100,
        currentChapters: 52,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 155500,
        totalChapters: 77,
        currentChapters: 14,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 102320,
        totalChapters: 16,
        currentChapters: 1,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Tín Hiệu Tâm Động",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 11231200,
        totalChapters: 6,
        currentChapters: 5,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: " tiệm cà phê của miểu miểu",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 10320,
        totalChapters: 12,
        currentChapters: 10,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Dẫn chồng trước và anh ta lúc 5 tuổi tham gia kidshow",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 111100,
        totalChapters: 100,
        currentChapters: 52,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 155500,
        totalChapters: 77,
        currentChapters: 14,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 155555500,
        totalChapters: 25,
        currentChapters: 0,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 8231200,
        totalChapters: 50,
        currentChapters: 20,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 8231200,
        totalChapters: 120,
        currentChapters: 0,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 8231200,
        totalChapters: 50,
        currentChapters: 0,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 8231200,
        totalChapters: 50,
        currentChapters: 20,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 102320,
        totalChapters: 16,
        currentChapters: 1,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Tín Hiệu Tâm Động",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 11231200,
        totalChapters: 6,
        currentChapters: 5,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: " tiệm cà phê của miểu miểu",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 10320,
        totalChapters: 12,
        currentChapters: 10,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Dẫn chồng trước và anh ta lúc 5 tuổi tham gia kidshow",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 111100,
        totalChapters: 100,
        currentChapters: 52,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 155500,
        totalChapters: 77,
        currentChapters: 14,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 155555500,
        totalChapters: 25,
        currentChapters: 0,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 8231200,
        totalChapters: 50,
        currentChapters: 20,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 8231200,
        totalChapters: 120,
        currentChapters: 0,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 8231200,
        totalChapters: 50,
        currentChapters: 0,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 8231200,
        totalChapters: 50,
        currentChapters: 20,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 102320,
        totalChapters: 16,
        currentChapters: 1,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Tín Hiệu Tâm Động",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 11231200,
        totalChapters: 6,
        currentChapters: 5,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: " tiệm cà phê của miểu miểu",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 10320,
        totalChapters: 12,
        currentChapters: 10,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Dẫn chồng trước và anh ta lúc 5 tuổi tham gia kidshow",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 111100,
        totalChapters: 100,
        currentChapters: 52,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 155500,
        totalChapters: 77,
        currentChapters: 14,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 155555500,
        totalChapters: 25,
        currentChapters: 0,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 8231200,
        totalChapters: 50,
        currentChapters: 20,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 8231200,
        totalChapters: 120,
        currentChapters: 0,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 8231200,
        totalChapters: 50,
        currentChapters: 0,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 8231200,
        totalChapters: 50,
        currentChapters: 20,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 102320,
        totalChapters: 16,
        currentChapters: 1,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Tín Hiệu Tâm Động",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 11231200,
        totalChapters: 6,
        currentChapters: 5,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: " tiệm cà phê của miểu miểu",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 10320,
        totalChapters: 12,
        currentChapters: 10,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Dẫn chồng trước và anh ta lúc 5 tuổi tham gia kidshow",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 111100,
        totalChapters: 100,
        currentChapters: 52,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 155500,
        totalChapters: 77,
        currentChapters: 14,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 155555500,
        totalChapters: 25,
        currentChapters: 0,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 8231200,
        totalChapters: 50,
        currentChapters: 20,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 8231200,
        totalChapters: 120,
        currentChapters: 0,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 8231200,
        totalChapters: 50,
        currentChapters: 0,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 8231200,
        totalChapters: 50,
        currentChapters: 20,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 102320,
        totalChapters: 16,
        currentChapters: 1,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Tín Hiệu Tâm Động",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 11231200,
        totalChapters: 6,
        currentChapters: 5,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: " tiệm cà phê của miểu miểu",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 10320,
        totalChapters: 12,
        currentChapters: 10,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Dẫn chồng trước và anh ta lúc 5 tuổi tham gia kidshow",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 111100,
        totalChapters: 100,
        currentChapters: 52,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 155500,
        totalChapters: 77,
        currentChapters: 14,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 155555500,
        totalChapters: 25,
        currentChapters: 0,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 8231200,
        totalChapters: 50,
        currentChapters: 20,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 8231200,
        totalChapters: 120,
        currentChapters: 0,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 8231200,
        totalChapters: 50,
        currentChapters: 0,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 8231200,
        totalChapters: 50,
        currentChapters: 20,
    },
    {
        img: "./asset/img/link_anh_1.jpg",
        title: "Ơn Nghĩa Sâu Nặng, Chàng Tự Mà Trả",
        updatedAt: new Date(),
        genres: ["Ngôn tình", "Đô thị"],
        views: 8231200,
        totalChapters: 50,
        currentChapters: 20,
    },

];




const completedStoryWrapper = document.getElementById("completedStoryWrapper");
const viewMoreBtn = document.getElementById("viewMoreBtn");
const pagination = document.getElementById("pagination");

const storiesPerRow = 6;
const initialRows = 2;
const storiesPerPage = 24;
const totalPages = Math.ceil(truyenData.length / storiesPerPage);
let currentPage = 1;

function renderInitialStories() {
    const count = initialRows * storiesPerRow;
    for (let i = 0; i < count && i < truyenData.length; i++) {
        const truyen = truyenData[i];
        const col = document.createElement("div");
        col.className = "col";
        col.innerHTML = `
        <div class="card h-100">
          <img src="${truyen.img}" class="card-img-top" alt="${truyen.title}">
          <div class="card-body p-0 pt-3">
            <p class="card-title pb-1 m-0">${truyen.title}</p>
          </div>
        </div>`;
        completedStoryWrapper.appendChild(col);
    }
}

function renderPage(page) {
    completedStoryWrapper.innerHTML = "";
    const startIndex = (page - 1) * storiesPerPage;
    const endIndex = Math.min(startIndex + storiesPerPage, truyenData.length);
    for (let i = startIndex; i < endIndex; i++) {
        const truyen = truyenData[i];
        const col = document.createElement("div");
        col.className = "col";
        col.innerHTML = `
        <div class="card h-100">
          <img src="${truyen.img}" class="card-img-top" alt="${truyen.title}">
          <div class="card-body p-0 pt-3">
            <p class="card-title pb-1 m-0">${truyen.title}</p>
          </div>
        </div>`;
        completedStoryWrapper.appendChild(col);
    }
}

function renderPagination(current) {
    pagination.innerHTML = "";

    const createBtn = (text, value, isActive = false) => {
        const btn = document.createElement("button");
        btn.className = `btn btn-sm btn-outline-primary ${isActive ? "active" : ""}`;
        btn.textContent = text;
        btn.addEventListener("click", () => {
            if (value !== currentPage) {
                currentPage = value;
                renderPage(currentPage);
                renderPagination(currentPage);
            }
        });
        return btn;
    };

    // Prev (chỉ khi current > 1)
    if (current > 1) {
        pagination.appendChild(createBtn("«", current - 1));
    }

    // Page 1 (luôn có)
    pagination.appendChild(createBtn("1", 1, current === 1));

    if (totalPages <= 5) {
        for (let i = 2; i < totalPages; i++) {
            pagination.appendChild(createBtn(`${i}`, i, current === i));
        }
    } else {
        if (current <= 3) {
            // Hiển thị 2, 3
            pagination.appendChild(createBtn("2", 2, current === 2));
            pagination.appendChild(createBtn("3", 3, current === 3));

            const dots = document.createElement("span");
            dots.className = "btn btn-sm disabled";
            dots.textContent = "...";
            pagination.appendChild(dots);
        } else if (current >= totalPages - 2) {
            // Dấu ... trước
            const dots = document.createElement("span");
            dots.className = "btn btn-sm disabled";
            dots.textContent = "...";
            pagination.appendChild(dots);

            pagination.appendChild(createBtn(`${totalPages - 2}`, totalPages - 2, current === totalPages - 2));
            pagination.appendChild(createBtn(`${totalPages - 1}`, totalPages - 1, current === totalPages - 1));
        } else {
            // Ở giữa → ... current-1, current, current+1 ...
            const dots1 = document.createElement("span");
            dots1.className = "btn btn-sm disabled";
            dots1.textContent = "...";
            pagination.appendChild(dots1);

            pagination.appendChild(createBtn(`${current - 1}`, current - 1));
            pagination.appendChild(createBtn(`${current}`, current, true));
            pagination.appendChild(createBtn(`${current + 1}`, current + 1));

            const dots2 = document.createElement("span");
            dots2.className = "btn btn-sm disabled";
            dots2.textContent = "...";
            pagination.appendChild(dots2);
        }
    }

    // Page cuối (luôn có nếu > 1)
    if (totalPages > 1) {
        pagination.appendChild(createBtn(`${totalPages}`, totalPages, current === totalPages));
    }

    // Next (chỉ khi current < totalPages)
    if (current < totalPages) {
        pagination.appendChild(createBtn("»", current + 1));
    }
}

// Sự kiện khi nhấn nút "Xem thêm"
viewMoreBtn.addEventListener("click", () => {
    viewMoreBtn.style.display = "none";
    pagination.style.display = "flex";

    currentPage = 1;
    renderPage(currentPage);
    renderPagination(currentPage);
});

// Hiển thị 2 hàng đầu tiên khi vào
renderInitialStories();

